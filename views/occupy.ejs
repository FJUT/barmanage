<%- include('common/header.ejs') %>
  <%- include('header.ejs') %>
  <div class="row">
    <%- include('nav.ejs') %>
    <div class="col-md-10" id="app">
      <table class="table table-hover">
        <thead>
          <tr><th>#</th> <th>时长</th> <th>价格</th></tr>
        </thead>
        <tbody>
          <tr v-for="(row, index) in rows">
            <template v-if="row.id > -1">
              <th scope="row">{{index}}</th>
              <td>{{row.seconds}}秒</td>
              <td>{{row.price}}元</td>
              <td><button type="button" class="close" @click="deleteById(row.id)"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button></td>
            </template>
            <template v-else>
              <th scope="row">{{index}}</th>
              <td><input type="text" v-model="row.seconds"></td>
              <td><input type="text" v-model="row.price"></td>
              <td>
                <button type="button" class="btn btn-default" @click="doPlus">添加</button>
                <button type="button" class="btn btn-danger" @click="cancelPlus">取消</button>
              </td>
            </template>
          </tr>
        </tbody>
      </table>
      <button type="submit" class="btn btn-primary btn-lg" @click="plusRow">添加霸屏</button>
    </div>
  </div>
<script>
var rows = <%-JSON.stringify(rows)%>
var barInfo = <%-JSON.stringify(barInfo)%>
</script>
<script src="/assets/init.js"></script>
<script src="/assets/occupy.bundle.js"></script>
<%- include('common/footer.ejs') %>